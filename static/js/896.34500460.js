"use strict";(self["webpackChunkmeBlog"]=self["webpackChunkmeBlog"]||[]).push([[896],{5896:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var l=a(3396),n=a(4870),u=a(8478),s=a(3495),i=a(2074),c=a(2574);const r=e=>((0,l.dD)("data-v-c25b67fa"),e=e(),(0,l.Cn)(),e),o={class:"type-title"},d=r((()=>(0,l._)("h3",null,"分类管理",-1))),v={key:0},p=["onClick"],m=["onClick"];var f=(0,l.aZ)({__name:"TypeArticle",setup(e){const t=(0,n.iH)(!1),a=(0,n.iH)(),r=(0,n.iH)(""),f=(0,n.iH)(null),w=async()=>{const e=await(0,u.VB)();e&&(a.value=e)};(0,l.bv)((()=>{w()}));const y=async e=>{s.Z.confirm({title:"删除提示",icon:(0,l.Wm)(c.Z),content:"确认要删除此分类?",okText:"确定",cancelText:"取消",async onOk(){try{const t=await(0,u.hX)(e);if(!t?.status)return i.ZP.error(t?.statusText),!1;i.ZP.success(t?.statusText),w()}catch{return console.log("Oops errors!")}}})},k=(e,a)=>{f.value=e,t.value=!0,r.value=a},x=()=>{f.value=null,r.value="",t.value=!0},_=()=>{t.value=!1,r.value=""},g=async()=>{if(r.value)try{if(f.value){const e=await(0,u.uY)(f.value,r.value);e.status?(i.ZP.success(e.statusText),t.value=!1,w()):i.ZP.error(e.statusText)}else{const e=await(0,u.NT)(r.value);e.status?(i.ZP.success(e.statusText),t.value=!1,w()):i.ZP.error(e.statusText)}}catch(e){i.ZP.error(e?.message||"操作失败")}else i.ZP.warning("分类名称不能为空")},C=[{title:"分类Id",dataIndex:"id",width:100,align:"center"},{title:"分类名称",dataIndex:"articleTypeName",width:100,align:"center"},{title:"操作",dataIndex:"action",width:100,align:"center"}];return(e,u)=>{const s=(0,l.up)("a-button"),i=(0,l.up)("a-table"),c=(0,l.up)("a-input"),w=(0,l.up)("a-form-item"),T=(0,l.up)("a-modal");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",o,[d,(0,l.Wm)(s,{type:"primary",onClick:x},{default:(0,l.w5)((()=>[(0,l.Uk)("添加分类")])),_:1})]),(0,l.Wm)(i,{"data-source":(0,n.SU)(a),style:{padding:"0 5px"},scroll:{y:400},columns:C},{bodyCell:(0,l.w5)((({column:e,record:t})=>["action"===e.dataIndex?((0,l.wg)(),(0,l.iD)("span",v,[(0,l._)("a",{style:{"margin-right":"5px"},onClick:e=>k(t.id,t.articleTypeName)},"修改名称",8,p),(0,l._)("a",{onClick:e=>y(t.id)},"删除",8,m)])):(0,l.kq)("",!0)])),_:1},8,["data-source"]),(0,l.Wm)(T,{visible:(0,n.SU)(t),title:(0,n.SU)(f)?"修改分类":"添加分类",footer:null,onCancel:_},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{label:"分类名称"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{value:(0,n.SU)(r),"onUpdate:value":u[0]||(u[0]=e=>(0,n.dq)(r)?r.value=e:null),"aria-required":"true"},null,8,["value"])])),_:1}),(0,l.Wm)(w,{"wrapper-col":{span:14,offset:9}},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{type:"primary",onClick:g},{default:(0,l.w5)((()=>[(0,l.Uk)("保存")])),_:1}),(0,l.Wm)(s,{style:{"margin-left":"10px"},onClick:_},{default:(0,l.w5)((()=>[(0,l.Uk)("取消")])),_:1})])),_:1})])),_:1},8,["visible","title"])])}}}),w=a(89);const y=(0,w.Z)(f,[["__scopeId","data-v-c25b67fa"]]);var k=y}}]);
//# sourceMappingURL=896.34500460.js.map